<html lang="ja">
    <head>
        <title>絵文字サジェスト入力</title>

        <!-- jquery -->
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script src="js/jquery.textcomplete.js"></script>
        <link rel="stylesheet" href="css/jquery.textcomplete.css" />

        <!-- emojify -->
        <script src="js/emojify/emojify.js"></script>
        <link rel="stylesheet" href="css/emojify/basic/emojify.css" />
        <link rel="stylesheet" href="css/emojify/data-uri/emojify.css" />

        <style type="text/css">
         .emoji {
             background-size: contain;
         }
        </style>
        
        <script>
            $(function() {
                // emojify
                emojify.setConfig({
                    mode: 'data-uri'
                });

                var updateText = function() {
                    var text = $("#input").val();
                    text = emojify.replace(text);
                    $("#message").html(text);
                };
                
                $("#input").keypress(function(e) {
                    if (e.which == 13) {
                        updateText();
                        e.preventDefault();
                    }
                });
                $("button").click(updateText);
            });
        </script>
    </head>
    <body>
        <textarea id="input"></textarea>
        <button type="button">表示</button>
        <div id="message"></div>
    </body>
</html>
